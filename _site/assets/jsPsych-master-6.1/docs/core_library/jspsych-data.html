<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>jsPsych.data | Jamie Moffatt</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="jsPsych.data" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Jamie is a psychology PhD student based at the University of Sussex." />
<meta property="og:description" content="Jamie is a psychology PhD student based at the University of Sussex." />
<link rel="canonical" href="http://localhost:4000/assets/jsPsych-master-6.1/docs/core_library/jspsych-data.html" />
<meta property="og:url" content="http://localhost:4000/assets/jsPsych-master-6.1/docs/core_library/jspsych-data.html" />
<meta property="og:site_name" content="Jamie Moffatt" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="jsPsych.data" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"jsPsych.data","description":"Jamie is a psychology PhD student based at the University of Sussex.","url":"http://localhost:4000/assets/jsPsych-master-6.1/docs/core_library/jspsych-data.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/assets/css/style.css?v=">
  <link rel="stylesheet" href="assets/css/social-circles.min.css"> <!-- Social media buttons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> <!-- icons -->
  <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
  <script src="/assets/js/respond.js"></script>
  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <!--[if lt IE 8]>
  <link rel="stylesheet" href="/assets/css/ie.css">
  <![endif]-->
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <script>
  function verticalNav() {
    var x = document.getElementById("mytopnav");
    if (x.className === "topnav") {
      x.className += " responsive";
    } else {
      x.className = "topnav";
    }
  }
</script>



</head>
<body>
  <div id="header">
    <nav id = "mytopnav" class = "topnav">
      <li class = "active"><a href = 'https://jamie-moffatt.github.io'>Home</a></li>
      <li><a href = "/publications">Publications</a></li>
      <li><a href = "/jspsych">jsPsych Tutorials</a></li>
      <li><a href="">View On GitHub</a></li>
      <li class="icon"><a href="javascript:void(0);" onclick="verticalNav()"><i class="fa fa-bars"></i></a></li>
      
    </nav>
  </div><!-- end header -->

  <div class="wrapper">

    <section>
      <div id="title">
        <div id = "title-container">
        <div id="title-text">
        <h1>Jamie Moffatt</h1>
        <p>Jamie is a psychology PhD student based at the University of Sussex.</p>
      </div>
      <div id = "title-img">
        <img src="/assets/img/test_profile.jpg" class = "profile">
      </div>
    </div>
        <hr>
        <span class="credits left">Project maintained by <a href=""></a></span>
        <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/mattgraham">mattgraham</a></span>
      </div>
      

      <h1 id="jspsychdata">jsPsych.data</h1>

<p>The jsPsych.data module contains functions for interacting with the data generated by jsPsych plugins.</p>

<hr />
<h2 id="jspsychdataaddproperties">jsPsych.data.addProperties</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.data.addProperties(properties)
</code></pre></div></div>

<h3 id="parameters">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>properties</td>
      <td>object</td>
      <td>Object of key: value pairs to add to the data.</td>
    </tr>
  </tbody>
</table>

<h3 id="return-value">Return value</h3>

<p>Returns nothing.</p>

<h3 id="description">Description</h3>

<p>This method appends a set of properties to every trial in the data object, including trials that have already occurred and trials that have yet to occur. You can use this to record things like the subject ID or condition assignment.</p>

<h3 id="examples">Examples</h3>

<h4 id="assigning-a-subject-id-and-condition-code">Assigning a subject ID and condition code</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">addProperties</span><span class="p">({</span><span class="na">subject</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">control</span><span class="dl">'</span><span class="p">});</span>
</code></pre></div></div>

<hr />
<h2 id="jspsychdatadisplaydata">jsPsych.data.displayData</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.data.displayData(format)
</code></pre></div></div>

<h3 id="parameters-1">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>format</td>
      <td>string</td>
      <td>Specifies whether to display the data in <code class="language-plaintext highlighter-rouge">'csv'</code> or <code class="language-plaintext highlighter-rouge">'json'</code> format.</td>
    </tr>
  </tbody>
</table>

<h3 id="return-value-1">Return value</h3>

<p>Returns nothing.</p>

<h3 id="description-1">Description</h3>

<p>Outputs all of the data collected in the experiment to the screen in either JSON or CSV format. This is a useful method for quick debugging when developing an experiment.</p>

<h3 id="examples-1">Examples</h3>

<h4 id="using-the-on_finish-callback-function-to-show-data-at-the-end-of-the-experiment">Using the on_finish callback function to show data at the end of the experiment</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span>
	<span class="na">experiment_structure</span><span class="p">:</span> <span class="nx">exp</span><span class="p">,</span>
	<span class="na">on_finish</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">displayData</span><span class="p">(</span><span class="dl">'</span><span class="s1">csv</span><span class="dl">'</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<hr />
<h2 id="jspsychdataget">jsPsych.data.get</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.data.get()
</code></pre></div></div>

<h3 id="parameters-2">Parameters</h3>

<p>None.</p>

<h3 id="return-value-2">Return value</h3>

<p>Returns the data collection of all data generated by the experiment.</p>

<h3 id="description-2">Description</h3>

<p>This function is the standard starting point for accessing the data generated by the experiment. It returns a DataCollection object, which has
several methods that can be used to further filter, aggregate, and view the data. These methods are described under the DataCollection section
on this page.</p>

<h3 id="example">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// select all trials</span>
<span class="kd">var</span> <span class="nx">all_data</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">();</span>

<span class="c1">// get csv representation of data and log to console</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">all_data</span><span class="p">.</span><span class="nx">csv</span><span class="p">());</span>
</code></pre></div></div>

<hr />
<h2 id="jspsychdatagetdatabytimelinenode">jsPsych.data.getDataByTimelineNode</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.data.getDataByTimelineNode(node_id)
</code></pre></div></div>

<h3 id="parameters-3">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>node_id</td>
      <td>string</td>
      <td>The id of the TimelineNodes to get data from.</td>
    </tr>
  </tbody>
</table>

<h3 id="return-value-3">Return value</h3>

<p>Returns a DataCollection of all of the data generated in a specified TimelineNode.</p>

<h3 id="description-3">Description</h3>

<p>Get all the data generated by a specified Timeline.</p>

<h3 id="example-1">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nx">current_node_id</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">currentTimelineNodeID</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">data_from_current_node</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">getDataByTimelineNode</span><span class="p">(</span><span class="nx">current_node_id</span><span class="p">);</span>

</code></pre></div></div>

<hr />
<h2 id="jspsychdatagetinteractiondata">jsPsych.data.getInteractionData</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.data.getInteractionData()
</code></pre></div></div>

<h3 id="parameters-4">Parameters</h3>

<p>None.</p>

<h3 id="return-value-4">Return value</h3>

<p>Returns a DataCollection object with all of the interaction events.</p>

<h3 id="description-4">Description</h3>

<p>jsPsych automatically records a few different kinds of user interaction events. <code class="language-plaintext highlighter-rouge">blur</code> events occur when the user clicks on another window or tab during the experiment, indicating that they are no longer interacting with the experiment. <code class="language-plaintext highlighter-rouge">focus</code> events occur when the user clicks on the experiment window after having clicked somewhere else first (i.e., generated a <code class="language-plaintext highlighter-rouge">blur</code> event). <code class="language-plaintext highlighter-rouge">fullscreenenter</code> and <code class="language-plaintext highlighter-rouge">fullscreenexit</code> events are triggered by the browser entering and exiting fullscreen mode. However, <code class="language-plaintext highlighter-rouge">fullscreenenter</code> events only occur when the script switches the browser to fullscreen mode, e.g., with the jspsych-fullscreen plugin. Manually entering fullscreen mode does not trigger this event. <code class="language-plaintext highlighter-rouge">fullscreenexit</code> events occur whether the user manually exits fullscreen mode or the script exits fullscreen mode. This method returns the DataCollection containing all interaction events. This is useful for tracking whether the participant completed the task without diverting attention to other windows. Events are in the form:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
	<span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">focus</span><span class="dl">'</span> <span class="nx">or</span> <span class="dl">'</span><span class="s1">blur</span><span class="dl">'</span> <span class="nx">or</span> <span class="dl">'</span><span class="s1">fullscreenenter</span><span class="dl">'</span> <span class="nx">or</span> <span class="dl">'</span><span class="s1">fullscreenexit</span><span class="dl">'</span><span class="p">,</span>
	<span class="nx">trial</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="c1">// the trial number when the event happened</span>
	<span class="nx">time</span><span class="p">:</span> <span class="mi">13042</span> <span class="c1">// total time elapsed since the start of the experiment</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="example-2">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">interaction_data</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">getInteractionData</span><span class="p">();</span>
<span class="c1">// log data to console in json format</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">interaction_data</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
</code></pre></div></div>

<hr />
<h2 id="jspsychdatagetlasttimelinedata">jsPsych.data.getLastTimelineData</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.data.getLastTimelineData()
</code></pre></div></div>

<h3 id="return-value-5">Return value</h3>

<p>Returns a DataCollection.</p>

<h3 id="description-5">Description</h3>

<p>Gets all of the data generated in the same timeline as the last trial.</p>

<h3 id="example-3">Example</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">lasttimelinedata</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">getLastTimelineData</span><span class="p">();</span>
</code></pre></div></div>

<hr />
<h2 id="jspsychdatagetlasttrialdata">jsPsych.data.getLastTrialData</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.data.getLastTrialData()
</code></pre></div></div>

<h3 id="return-value-6">Return value</h3>

<p>Returns a DataCollection</p>

<h3 id="description-6">Description</h3>

<p>Gets the data collection containing all data generated by the last trial.</p>

<h3 id="example-4">Example</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var lasttrialdata = jsPsych.data.getLastTrialData();
</code></pre></div></div>

<hr />
<h2 id="jspsychdatageturlvariable">jsPsych.data.getURLVariable</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.data.getURLVariable(var_name)
</code></pre></div></div>

<h3 id="parameters-5">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>var_name</td>
      <td>string</td>
      <td>Which variable to get the value of.</td>
    </tr>
  </tbody>
</table>

<h3 id="return-value-7">Return value</h3>

<p>Returns the value of a variable passed in through the query string.</p>

<h3 id="description-7">Description</h3>

<p>For extracting a particular variable passed in through a URL query string.</p>

<h3 id="examples-2">Examples</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// if the URL of the page is: experiment.html?subject=1234&amp;condition=test</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">getURLVariable</span><span class="p">(</span><span class="dl">'</span><span class="s1">subject</span><span class="dl">'</span><span class="p">))</span> <span class="c1">// logs "1234"</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">getURLVariable</span><span class="p">(</span><span class="dl">'</span><span class="s1">condition</span><span class="dl">'</span><span class="p">))</span> <span class="c1">// logs "test"</span>

</code></pre></div></div>

<hr />
<h2 id="jspsychdataurlvariables">jsPsych.data.urlVariables</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.data.urlVariables()
</code></pre></div></div>

<h3 id="return-value-8">Return value</h3>

<p>Returns an object (associative array) of the variables in the URL query string.</p>

<h3 id="description-8">Description</h3>

<p>For extracting variables passed in through a URL query string.</p>

<h3 id="examples-3">Examples</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// if the URL of the page is: experiment.html?subject=1234&amp;condition=test</span>

<span class="kd">var</span> <span class="nx">urlvar</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">urlVariables</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">urlvar</span><span class="p">.</span><span class="nx">subject</span><span class="p">)</span> <span class="c1">// logs "1234"</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">urlvar</span><span class="p">.</span><span class="nx">condition</span><span class="p">)</span> <span class="c1">// logs "test"</span>

</code></pre></div></div>

<hr />
<h2 id="jspsychdatawrite">jsPsych.data.write</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.data.write(data_object)
</code></pre></div></div>

<h3 id="parameters-6">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>data_object</td>
      <td>object</td>
      <td>Object of <code class="language-plaintext highlighter-rouge">key: value</code> pairs to store in jsPsych’s data storage as a trial.</td>
    </tr>
  </tbody>
</table>

<h3 id="return-value-9">Return value</h3>

<p>Returns nothing.</p>

<h3 id="description-9">Description</h3>

<p>This method is used by <code class="language-plaintext highlighter-rouge">jsPsych.finishTrial</code> for writing data. You should probably not use it to add data. Instead use <a href="#addProperties">jsPsych.data.addProperties</a>.</p>

<h3 id="examples-4">Examples</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// don't use this! data should only be written once per trial. use jsPsych.finishTrial to save data.</span>

<span class="kd">var</span> <span class="nx">trial_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="na">correct</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
	<span class="na">rt</span><span class="p">:</span> <span class="mi">487</span>
<span class="p">}</span>

<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">trial_data</span><span class="p">);</span>

</code></pre></div></div>

<hr />
<h2 id="datacollection">DataCollection</h2>

<p>All data is stored in the DataCollection object. Using methods like <code class="language-plaintext highlighter-rouge">jsPsych.data.get()</code> and <code class="language-plaintext highlighter-rouge">jsPsych.data.getLastTrialData()</code> return DataCollections containing
the experiment data. This is a list of all of the methods that are available to call on a DataCollection object.</p>

<h4 id="addtoall">.addToAll()</h4>

<p>Adds a set of properties to all items in the DataCollection. Similar to <code class="language-plaintext highlighter-rouge">jsPsych.data.addProperties()</code>, except that it can be applied to a subset of the whole DataCollection by filtering down to a smaller DataCollection first.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">addToAll</span><span class="p">({</span><span class="na">subject_id</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span> <span class="na">condition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">control</span><span class="dl">'</span><span class="p">});</span>
</code></pre></div></div>

<h4 id="addtolast">.addToLast()</h4>

<p>Adds a set of properties to the last trial in the DataCollection.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">addToLast</span><span class="p">({</span><span class="na">success</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span>
</code></pre></div></div>

<h4 id="count">.count()</h4>

<p>Counts the number of trials in the DataCollection.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">count</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="csv">.csv()</h4>

<p>Generates a CSV string representing all of the data in the DataCollection.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">csv</span><span class="p">());</span>
</code></pre></div></div>

<h4 id="filter">.filter()</h4>

<p>Returns a subset of the DataCollection based on the filter. The filter is an object, and trials are only kept in the returned DataCollection if they contain the key: value pair(s) in the filter object. For example, the code below selects all of the trials with a correct response.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">correct_trials</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">filter</span><span class="p">({</span><span class="na">correct</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span>
</code></pre></div></div>

<p>The object can have multiple key: value pairs, and the trials must match all of them in order to be included in the returned collection.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// keep only correct trials from the practice phase</span>
<span class="kd">var</span> <span class="nx">correct_practice_trials</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">filter</span><span class="p">({</span><span class="na">correct</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span> <span class="na">phase</span><span class="p">:</span> <span class="dl">'</span><span class="s1">practice</span><span class="dl">'</span><span class="p">});</span>
</code></pre></div></div>

<p>The filter can also be an array of objects. In this case each object in the array acts as an OR filter. As long as the trial has all the key: value pairs of one of the objects in the array, it will appear in the returned collection.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// select trials from block 1 and block 5.</span>
<span class="kd">var</span> <span class="nx">trials</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">filter</span><span class="p">([{</span><span class="na">block</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="na">block</span><span class="p">:</span><span class="mi">5</span><span class="p">}]);</span>
</code></pre></div></div>

<p>The filter method returns a DataCollection object, so methods can be chained onto a single statement.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// count the number of correct trials in block 1</span>
<span class="kd">var</span> <span class="nx">block_1_correct</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">filter</span><span class="p">({</span><span class="na">block</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="na">correct</span><span class="p">:</span><span class="kc">true</span><span class="p">}).</span><span class="nx">count</span><span class="p">();</span>
</code></pre></div></div>

<h4 id="filtercustom">.filterCustom()</h4>

<p>This method is similar to the <code class="language-plaintext highlighter-rouge">.filter()</code> method, except that it accepts a function as the filter. The function is passed a single argument, containing the data for a trial. If the function returns <code class="language-plaintext highlighter-rouge">true</code> the trial is included in the returned DataCollection.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// count the number of trials with a response time greater than 2000ms.</span>
<span class="kd">var</span> <span class="nx">too_long</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">filterCustom</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">trial</span><span class="p">){</span>
	<span class="k">return</span> <span class="nx">trial</span><span class="p">.</span><span class="nx">rt</span> <span class="o">&gt;</span> <span class="mi">2000</span><span class="p">;</span>
<span class="p">}).</span><span class="nx">count</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="first--last">.first() / .last()</h4>

<p>Returns a DataCollection containing the first/last <em>n</em> trials.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">first_trial</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">first</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">last_trial_with_correct_response</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">filter</span><span class="p">({</span><span class="na">correct</span><span class="p">:</span> <span class="kc">true</span><span class="p">}).</span><span class="nx">last</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">last_10_trials</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">last</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="ignore">.ignore()</h4>

<p>Returns a DataCollection with all instances of a particular key removed from the dataset.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// log a csv file that does not contain the internal_node_id values for each trial</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">ignore</span><span class="p">(</span><span class="dl">'</span><span class="s1">internal_node_id</span><span class="dl">'</span><span class="p">).</span><span class="nx">csv</span><span class="p">());</span>
</code></pre></div></div>

<h4 id="join">.join()</h4>

<p>Appends one DataCollection onto another and returns the combined collection.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// get a DataCollection with all trials that are either correct or</span>
<span class="c1">// have a response time greater than 200ms.</span>
<span class="kd">var</span> <span class="nx">dc1</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">filter</span><span class="p">({</span><span class="na">correct</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span>
<span class="kd">var</span> <span class="nx">dc2</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">filterCustom</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">trial</span><span class="p">){</span> <span class="k">return</span> <span class="nx">trial</span><span class="p">.</span><span class="nx">rt</span> <span class="o">&gt;</span> <span class="mi">200</span><span class="p">});</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">dc1</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">dc2</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="json">.json()</h4>

<p>Generates a JSON string representing all of the data in the DataCollection.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">json</span><span class="p">());</span>
</code></pre></div></div>

<h4 id="localsave">.localSave()</h4>

<p>Saves a CSV or JSON file on the computer running the experiment. If conducting an online experiment, this will download the file onto the subject’s computer, and is therefore not a recommended data storage solution for online data collection.</p>

<p><strong>Warning:</strong> This function relies on features which are <a href="http://caniuse.com/#search=createObjectURL">currently not supported by all major web browsers</a>, though adoption rates are increasing rapidly. It will work on the most recent versions of Chrome, Firefox, and Internet Explorer. Safari has partial support. The file will render, but it will display in the browser window and will require using the Save As option manually.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// first argument is the format, second is the filename.</span>
<span class="c1">// the format can be either 'csv' or 'json'.</span>
<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">localSave</span><span class="p">(</span><span class="dl">'</span><span class="s1">csv</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">mydata.csv</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="push">.push()</h4>

<p>Add a new entry to the DataCollection. This method is mostly used internally, and you shouldn’t need to call it under normal circumstances.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span><span class="na">correct</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">rt</span><span class="p">:</span> <span class="mi">500</span><span class="p">}</span>
<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">push</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="readonly">.readOnly()</h4>

<p>Creates a copy of the DataCollection so that any modification of the values in the DataCollection will not affect the original.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// this line edits the rt property of the first trial</span>
<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">first</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">values</span><span class="p">()[</span><span class="mi">0</span><span class="p">].</span><span class="nx">rt</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

<span class="c1">// readOnly creates a copy that can be modified without affecting the original</span>

<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">first</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">values</span><span class="p">()[</span><span class="mi">0</span><span class="p">].</span><span class="nx">rt</span>
<span class="c1">// outputs 100</span>

<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">readOnly</span><span class="p">().</span><span class="nx">first</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">values</span><span class="p">()[</span><span class="mi">0</span><span class="p">].</span><span class="nx">rt</span> <span class="o">=</span> <span class="mi">200</span>
<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">first</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">values</span><span class="p">()[</span><span class="mi">0</span><span class="p">].</span><span class="nx">rt</span>
<span class="c1">// still outputs 100</span>
</code></pre></div></div>

<h4 id="select">.select()</h4>

<p>Returns a DataColumn object (see documentation below) of a single property from a DataCollection object.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">rt_data</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">rt</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">rt_data</span><span class="p">.</span><span class="nx">mean</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="uniquenames">.uniqueNames()</h4>

<p>Generates an array of all the unique key names in the set of trials contained in the DataCollection. This is especially useful when setting up a relational database (e.g., MySQL) where the column names need to be specified in advance.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">uniqueNames</span><span class="p">());</span>
</code></pre></div></div>

<h4 id="values">.values()</h4>

<p>Returns the raw data array associated with the DataCollection. This array is modifiable, so changes to the array and values of objects in the array will change the DataCollection.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">raw_data</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">values</span><span class="p">();</span>

<span class="c1">// was response in first trial correct?</span>
<span class="k">if</span><span class="p">(</span><span class="nx">raw_data</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">correct</span><span class="p">){</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">correct!</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">incorrect.</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />
<h2 id="datacolumn">DataColumn</h2>

<p>DataColumn objects represent all the values of a single property in a DataCollection. They are generated by using the <code class="language-plaintext highlighter-rouge">.select()</code> method on a DataCollection. Once a DataColumn is generated, the following methods can be used.</p>

<h4 id="all">.all()</h4>

<p>Checks if all values in the DataColumn return <code class="language-plaintext highlighter-rouge">true</code> when passed to a function. The function takes a single argument, which represents one value from the DataColumn.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// check if all the response times in the practice phase were under 1000ms</span>
<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">filter</span><span class="p">({</span><span class="na">phase</span><span class="p">:</span> <span class="dl">'</span><span class="s1">practice</span><span class="dl">'</span><span class="p">}).</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">correct</span><span class="dl">'</span><span class="p">).</span><span class="nx">all</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">;</span> <span class="p">});</span>
</code></pre></div></div>

<h4 id="count-1">.count()</h4>

<p>Counts the number of values in the DataColumn.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// count how many response times there are</span>
<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">rt</span><span class="dl">'</span><span class="p">).</span><span class="nx">count</span><span class="p">();</span>
</code></pre></div></div>

<h4 id="frequencies">.frequencies()</h4>

<p>Counts the number of occurrences of each unique value in the DataColumn. Returns this value as an object, where each key is a unique value and the value of each key is the number of occurrences of that key.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// get frequencies of correct and incorrect responses</span>
<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">correct</span><span class="dl">'</span><span class="p">).</span><span class="nx">frequencies</span><span class="p">();</span>
</code></pre></div></div>

<h4 id="max--min">.max() / .min()</h4>

<p>Returns the maximum or minimum value in a DataColumn.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">rt</span><span class="dl">'</span><span class="p">).</span><span class="nx">max</span><span class="p">();</span>
<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">rt</span><span class="dl">'</span><span class="p">).</span><span class="nx">min</span><span class="p">();</span>
</code></pre></div></div>

<h4 id="mean">.mean()</h4>

<p>Returns the average of all the values in a DataColumn.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">rt</span><span class="dl">'</span><span class="p">).</span><span class="nx">mean</span><span class="p">();</span>
</code></pre></div></div>

<h4 id="median">.median()</h4>

<p>Returns the median of all the values in a DataColumn.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">rt</span><span class="dl">'</span><span class="p">).</span><span class="nx">median</span><span class="p">();</span>
</code></pre></div></div>

<h4 id="sd">.sd()</h4>

<p>Returns the standard deviation of the values in a DataColumn.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">rt</span><span class="dl">'</span><span class="p">).</span><span class="nx">sd</span><span class="p">();</span>
</code></pre></div></div>

<h4 id="subset">.subset()</h4>

<p>Filters the DataColumn to include only values that return <code class="language-plaintext highlighter-rouge">true</code> when passed through the specified function.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// below results will be less than 200.</span>
<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">rt</span><span class="dl">'</span><span class="p">).</span><span class="nx">subset</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span> <span class="k">return</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="mi">200</span><span class="p">;</span> <span class="p">}).</span><span class="nx">max</span><span class="p">();</span>
</code></pre></div></div>

<h4 id="sum">.sum()</h4>

<p>Returns the sum of the values in a DataColumn.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">rt</span><span class="dl">'</span><span class="p">).</span><span class="nx">sum</span><span class="p">();</span>
</code></pre></div></div>

<h4 id="values-1">.values</h4>

<p>The raw array of values in the DataColumn.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// note that this is not a function call.</span>
<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">rt</span><span class="dl">'</span><span class="p">).</span><span class="nx">values</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="variance">.variance()</h4>

<p>Returns the variance of the values in a DataColumn.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="dl">'</span><span class="s1">rt</span><span class="dl">'</span><span class="p">).</span><span class="nx">variance</span><span class="p">();</span>
</code></pre></div></div>


    </section>

  </div>

  
</body>
</html>
