<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>The jsPsych core library | Jamie Moffatt</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="The jsPsych core library" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Jamie is a psychology PhD student based at the University of Sussex." />
<meta property="og:description" content="Jamie is a psychology PhD student based at the University of Sussex." />
<link rel="canonical" href="http://localhost:4000/assets/jsPsych-master-6.1/docs/core_library/jspsych-core.html" />
<meta property="og:url" content="http://localhost:4000/assets/jsPsych-master-6.1/docs/core_library/jspsych-core.html" />
<meta property="og:site_name" content="Jamie Moffatt" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="The jsPsych core library" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"The jsPsych core library","description":"Jamie is a psychology PhD student based at the University of Sussex.","url":"http://localhost:4000/assets/jsPsych-master-6.1/docs/core_library/jspsych-core.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/assets/css/style.css?v=">
  <link rel="stylesheet" href="assets/css/social-circles.min.css"> <!-- Social media buttons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> <!-- icons -->
  <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
  <script src="/assets/js/respond.js"></script>
  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <!--[if lt IE 8]>
  <link rel="stylesheet" href="/assets/css/ie.css">
  <![endif]-->
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <script>
  function verticalNav() {
    var x = document.getElementById("mytopnav");
    if (x.className === "topnav") {
      x.className += " responsive";
    } else {
      x.className = "topnav";
    }
  }
</script>



</head>
<body>
  <div id="header">
    <nav id = "mytopnav" class = "topnav">
      <li class = "active"><a href = 'https://jamie-moffatt.github.io'>Home</a></li>
      <li><a href = "/publications">Publications</a></li>
      <li><a href = "/jspsych">jsPsych Tutorials</a></li>
      <li><a href="">View On GitHub</a></li>
      <li class="icon"><a href="javascript:void(0);" onclick="verticalNav()"><i class="fa fa-bars"></i></a></li>
      
    </nav>
  </div><!-- end header -->

  <div class="wrapper">

    <section>
      <div id="title">
        <div id = "title-container">
        <div id="title-text">
        <h1>Jamie Moffatt</h1>
        <p>Jamie is a psychology PhD student based at the University of Sussex.</p>
      </div>
      <div id = "title-img">
        <img src="/assets/img/test_profile.jpg" class = "profile">
      </div>
    </div>
        <hr>
        <span class="credits left">Project maintained by <a href=""></a></span>
        <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/mattgraham">mattgraham</a></span>
      </div>
      

      <h1 id="the-jspsych-core-library">The jsPsych core library</h1>

<hr />
<h2 id="jspsychaddnodetoendoftimeline">jsPsych.addNodeToEndOfTimeline</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.addNodeToEndOfTimeline(node_parameters, callback)
</code></pre></div></div>

<h3 id="parameters">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>node_parameters</td>
      <td>object</td>
      <td>An object defining a timeline. It must have, at a minimum, a <code class="language-plaintext highlighter-rouge">timeline</code> parameter with a valid timeline array as the value for that parameter.</td>
    </tr>
    <tr>
      <td>callback</td>
      <td>function</td>
      <td>An optional callback function. If adding the node to the timeline requires any preloading of media assets, this callback will be triggered after preloading is compelte.</td>
    </tr>
  </tbody>
</table>

<h3 id="return-value">Return value</h3>

<p>None.</p>

<h3 id="description">Description</h3>

<p>Adds the timeline to the end of the experiment.</p>

<h3 id="examples">Examples</h3>

<h4 id="without-callback">Without callback</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">trial</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">html-keyboard-response</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">stimulus</span><span class="p">:</span> <span class="dl">'</span><span class="s1">This is a new trial.</span><span class="dl">'</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">new_timeline</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">timeline</span><span class="p">:</span> <span class="p">[</span><span class="nx">trial</span><span class="p">]</span>
<span class="p">}</span>

<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">addNodeToEndOfTimeline</span><span class="p">(</span><span class="nx">new_timeline</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="with-callback">With callback</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">first</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">html-keyboard-response</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">stimulus</span><span class="p">:</span> <span class="dl">'</span><span class="s1">first trial; new trial added when on_finish is called</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">on_finish</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">pauseExperiment</span><span class="p">();</span>
    <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">addNodeToEndOfTimeline</span><span class="p">({</span>
      <span class="na">timeline</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">image-keyboard-response</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">stimulus</span><span class="p">:</span> <span class="dl">'</span><span class="s1">img/happy_face_4.jpg</span><span class="dl">'</span>
      <span class="p">}]</span>
    <span class="p">},</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">resumeExperiment</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />
<h2 id="jspsychcurrenttimelinenodeid">jsPsych.currentTimelineNodeID</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.currentTimelineNodeID()
</code></pre></div></div>

<h3 id="parameters-1">Parameters</h3>

<p>None.</p>

<h3 id="return-value-1">Return value</h3>

<p>Returns the ID of the TimelineNode that is currently active.</p>

<h3 id="description-1">Description</h3>

<p>Gets the ID of the active TimelineNode. The ID is a string that follows a specific format:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">"0.0"</code> is the ID of the first top-level TimelineNode</li>
  <li><code class="language-plaintext highlighter-rouge">"1.0"</code> is the ID of the second top-level TimelineNode</li>
  <li><code class="language-plaintext highlighter-rouge">"2.0"</code> is the ID of the third top-level TimelineNode, and so on…</li>
</ul>

<p>If a TimelineNode iterates multiple times (using the loop function, for example), then the iterations are indicated in the second number:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">"0.0"</code> is the ID of the first top-level TimelineNode during the first iteration</li>
  <li><code class="language-plaintext highlighter-rouge">"0.1"</code> is the ID of the first top-level TimelineNode during the second iteration</li>
  <li><code class="language-plaintext highlighter-rouge">"0.2"</code> is the ID of the first top-level TimelineNode during the third iteration, and so on…</li>
</ul>

<p>If TimelineNodes are nested in other TimelineNodes, then the hierarchical structure is shown with <code class="language-plaintext highlighter-rouge">"."</code>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">"0.0-1.0"</code> is the ID of the second TimelineNode on the timeline of the first top-level TimelineNode.</li>
  <li><code class="language-plaintext highlighter-rouge">"0.0-2.0"</code> is the ID of the third TimelineNode on the timeline of the first top-level TimelineNode, and so on…</li>
</ul>

<p>The rules about iterations apply throughout the hierarchical ID:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">"0.2-1.3"</code> is the ID of the second TimelineNode, executing for the fourth time, on the timeline of the first top-level TimelineNode, executing for the third time.</li>
</ul>

<h3 id="example">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">currentTimelineNodeID</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">The current TimelineNode ID is </span><span class="dl">'</span><span class="o">+</span><span class="nx">id</span><span class="p">);</span>
</code></pre></div></div>

<hr />
<h2 id="jspsychcurrenttrial">jsPsych.currentTrial</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.currentTrial()
</code></pre></div></div>

<h3 id="parameters-2">Parameters</h3>

<p>None.</p>

<h3 id="return-value-2">Return value</h3>

<p>Returns the object describing the current trial. The object will contain all of the parameters associated with the current trial.</p>

<h3 id="description-2">Description</h3>

<p>Get a description of the current trial</p>

<h3 id="example-1">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nx">trial</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">currentTrial</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">The current trial is using the </span><span class="dl">'</span><span class="o">+</span><span class="nx">trial</span><span class="p">.</span><span class="nx">type</span><span class="o">+</span><span class="dl">'</span><span class="s1"> plugin</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>
<hr />
<h2 id="jspsychendcurrenttimeline">jsPsych.endCurrentTimeline</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.endCurrentTimeline
</code></pre></div></div>

<h3 id="parameters-3">Parameters</h3>

<p>None.</p>

<h3 id="return-value-3">Return value</h3>

<p>None.</p>

<h3 id="description-3">Description</h3>

<p>Ends the current timeline. If timelines are nested, then only the timeline that contains the current trial is ended.</p>

<h3 id="example-2">Example</h3>

<h4 id="loop-indefinitely-until-a-particular-key-is-pressed">Loop indefinitely until a particular key is pressed</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nx">images</span> <span class="o">=</span> <span class="p">[</span>
  <span class="dl">"</span><span class="s2">img/1.gif</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">img/2.gif</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">img/3.gif</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">img/4.gif</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">img/5.gif</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">img/6.gif</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">img/7.gif</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">img/8.gif</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">img/9.gif</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">img/10.gif</span><span class="dl">"</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">trials</span> <span class="o">=</span> <span class="p">[];</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">images</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">trials</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
    <span class="na">stimulus</span><span class="p">:</span> <span class="nx">images</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">block</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">image-keyboard-response</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">choices</span><span class="p">:</span> <span class="p">[</span><span class="mi">89</span><span class="p">,</span> <span class="mi">78</span><span class="p">],</span> <span class="c1">// Y or N</span>
  <span class="na">prompt</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;p&gt;Press Y to Continue. Press N to end this node of the experiment.&lt;/p&gt;</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">on_finish</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">key_press</span> <span class="o">==</span> <span class="mi">78</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">endCurrentTimeline</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">timeline</span><span class="p">:</span> <span class="nx">trials</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">after_block</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">html-keyboard-response</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">stimulus</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;p&gt;The next node&lt;/p&gt;</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">is_html</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span>
  <span class="na">timeline</span><span class="p">:</span> <span class="p">[</span><span class="nx">block</span><span class="p">,</span> <span class="nx">after_block</span><span class="p">],</span>
  <span class="na">on_finish</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">displayData</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">});</span>

</code></pre></div></div>

<hr />
<h2 id="jspsychendexperiment">jsPsych.endExperiment</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.endExperiment(end_message)
</code></pre></div></div>

<h3 id="parameters-4">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>end_message</td>
      <td>string</td>
      <td>A message to display on the screen after the experiment is over.</td>
    </tr>
  </tbody>
</table>

<h3 id="return-value-4">Return value</h3>

<p>None.</p>

<h3 id="description-4">Description</h3>

<p>Ends the experiment, skipping all remaining trials.</p>

<h3 id="example-3">Example</h3>

<h4 id="end-the-experiment-if-a-particular-response-is-given">End the experiment if a particular response is given</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">trial</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">image-keyboard-response</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">stimulus</span><span class="p">:</span> <span class="dl">'</span><span class="s1">image1.jpg</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">choices</span><span class="p">:</span> <span class="p">[</span><span class="mi">89</span><span class="p">,</span><span class="mi">78</span><span class="p">],</span> <span class="c1">// Y or N</span>
  <span class="na">prompt</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;p&gt;Press Y to Continue. Press N to end the experiment&lt;/p&gt;</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">on_finish</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">key_press</span> <span class="o">==</span> <span class="mi">78</span><span class="p">){</span>
      <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">endExperiment</span><span class="p">(</span><span class="dl">'</span><span class="s1">The experiment was ended by pressing N.</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />
<h2 id="jspsychfinishtrial">jsPsych.finishTrial</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.finishTrial(data)
</code></pre></div></div>

<h3 id="parameters-5">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>data</td>
      <td>object</td>
      <td>The data to store for the trial.</td>
    </tr>
  </tbody>
</table>

<h3 id="return-value-5">Return value</h3>

<p>Returns nothing.</p>

<h3 id="description-5">Description</h3>

<p>This method tells jsPsych that the current trial is over. It is used in all of the plugins to end the current trial. When the trial ends a few things happen:</p>

<ul>
  <li>The data is stored using <code class="language-plaintext highlighter-rouge">jsPsych.data.write()</code></li>
  <li>The on_finish callback function is executed for the trial</li>
  <li>The on_trial_finish callback function is executed</li>
  <li>The progress bar is updated if it is being displayed</li>
  <li>The experiment ends if the trial is the last one (and the on_finish callback function is executed).</li>
  <li>The next trial, if one exists, is started.</li>
</ul>

<h3 id="example-4">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// this code would be in a plugin</span>
<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">finishTrial</span><span class="p">({</span><span class="na">correct_response</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span>

</code></pre></div></div>
<hr />
<h2 id="jspsychgetdisplayelement">jsPsych.getDisplayElement</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.getDisplayElement
</code></pre></div></div>

<h3 id="parameters-6">Parameters</h3>

<p>None.</p>

<h3 id="return-value-6">Return value</h3>

<p>Returns the HTML DOM element used for displaying the experiment.</p>

<h3 id="description-6">Description</h3>

<p>Get the DOM element that displays the experiment.</p>

<h3 id="example-5">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">getDisplayElement</span><span class="p">();</span>

<span class="c1">// hide the jsPsych display</span>
<span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">visibility</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">hidden</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>
<hr />
<h2 id="jspsychinit">jsPsych.init</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.init(settings)
</code></pre></div></div>

<h3 id="parameters-7">Parameters</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>settings</td>
      <td>object</td>
      <td>The settings object for initializing jsPsych. See table below.</td>
    </tr>
  </tbody>
</table>

<p>The settings object can contain several parameters. The only <em>required</em> parameter is <code class="language-plaintext highlighter-rouge">timeline</code>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>timeline</td>
      <td>array</td>
      <td>An array containing the objects that describe the experiment timeline. See <a href="../overview/timeline.md">Creating an Experiment: The Timeline</a>.</td>
    </tr>
    <tr>
      <td>display_element</td>
      <td>string</td>
      <td>The ID of an HTML element to display the experiment in. If left blank, jsPsych will use the <code class="language-plaintext highlighter-rouge">&lt;body&gt;</code> element to display content (creating it if necessary). All keyboard event listeners are bound to this element. In order for a keyboard event to be detected, this element must have focus (be the last thing that the subject clicked on).</td>
    </tr>
    <tr>
      <td>on_finish</td>
      <td>function</td>
      <td>Function to execute when the experiment ends.</td>
    </tr>
    <tr>
      <td>on_trial_start</td>
      <td>function</td>
      <td>Function to execute when a new trial begins.</td>
    </tr>
    <tr>
      <td>on_trial_finish</td>
      <td>function</td>
      <td>Function to execute when a trial ends.</td>
    </tr>
    <tr>
      <td>on_data_update</td>
      <td>function</td>
      <td>Function to execute every time data is stored using the <code class="language-plaintext highlighter-rouge">jsPsych.data.write</code> method. All plugins use this method to save data (via a call to <code class="language-plaintext highlighter-rouge">jsPsych.finishTrial</code>, so this function runs every time a plugin stores new data.</td>
    </tr>
    <tr>
      <td>on_interaction_data_update</td>
      <td>function</td>
      <td>Function to execute every time a new interaction event occurs. Interaction events include clicking on a different window (blur), returning to the experiment window (focus), entering full screen mode (fullscreenenter), and exiting full screen mode (fullscreenexit).</td>
    </tr>
    <tr>
      <td>exclusions</td>
      <td>object</td>
      <td>Specifies restrictions on the browser the subject can use to complete the experiment. See list of options below.</td>
    </tr>
    <tr>
      <td>show_progress_bar</td>
      <td>boolean</td>
      <td>If true, then <a href="../overview/progress-bar.md">a progress bar</a> is shown at the top of the page.</td>
    </tr>
    <tr>
      <td>auto_update_progress_bar</td>
      <td>boolean</td>
      <td>If true, then the progress bar at the top of the page will automatically update as every top-level timeline or trial is completed.</td>
    </tr>
    <tr>
      <td>show_preload_progress_bar</td>
      <td>boolean</td>
      <td>If true, then a progress bar is displayed while media files are automatically preloaded.</td>
    </tr>
    <tr>
      <td>preload_audio</td>
      <td>array</td>
      <td>An array of audio files to preload before starting the experiment.</td>
    </tr>
    <tr>
      <td>preload_images</td>
      <td>array</td>
      <td>An array of image files to preload before starting the experiment.</td>
    </tr>
    <tr>
      <td>max_load_time</td>
      <td>numeric</td>
      <td>The maximum number of milliseconds to wait for content to preload. If the wait time is exceeded an error message is displayed and the experiment stops. The default value is 60 seconds.</td>
    </tr>
    <tr>
      <td>max_preload_attempts</td>
      <td>numeric</td>
      <td>The maximum number of attempts to preload each file in case of an error. The default value is 10. There is a small delay of 200ms between each attempt.</td>
    </tr>
    <tr>
      <td>use_webaudio</td>
      <td>boolean</td>
      <td>If false, then jsPsych will not attempt to use the WebAudio API for audio playback. Instead, HTML5 Audio objects will be used. The WebAudio API offers more precise control over the timing of audio events, and should be used when possible. The default value is true.</td>
    </tr>
    <tr>
      <td>default_iti</td>
      <td>numeric</td>
      <td>The default inter-trial interval in ms. The default value if none is specified is 0ms.</td>
    </tr>
  </tbody>
</table>

<p>Possible values for the exclusions parameter above.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>min_width</td>
      <td>numeric</td>
      <td>The minimum width of the browser window. If the width is below this value, a message will be displayed to the subject asking them to maximize their browser window. The experiment will sit on this page until the browser window is large enough.</td>
    </tr>
    <tr>
      <td>min_height</td>
      <td>numeric</td>
      <td>Same as above, but with height.</td>
    </tr>
    <tr>
      <td>audio</td>
      <td>boolean</td>
      <td>Set to true to require support for the WebAudio API (used by plugins that play audio files).</td>
    </tr>
  </tbody>
</table>

<h3 id="return-value-7">Return value</h3>

<p>Returns nothing.</p>

<h3 id="description-7">Description</h3>

<p>This method configures and starts the experiment.</p>

<h3 id="example-6">Example</h3>

<p>See any of the plugin examples in the <a href="https://github.com/jodeleeuw/jsPsych/tree/master/examples">examples folder</a> in the GitHub repository.</p>

<hr />
<h2 id="jspsychinitsettings">jsPsych.initSettings</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.initSettings()
</code></pre></div></div>

<h3 id="parameters-8">Parameters</h3>

<p>None</p>

<h3 id="return-value-8">Return value</h3>

<p>Returns the settings object used to initialize the experiment.</p>

<h3 id="description-8">Description</h3>

<p>Gets the object containing the settings for the current experiment.</p>

<h3 id="example-7">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">initSettings</span><span class="p">();</span>

<span class="c1">// check the experiment structure</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">timeline</span><span class="p">));</span>
</code></pre></div></div>

<hr />
<h2 id="jspsychpauseexperiment">jsPsych.pauseExperiment</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.pauseExperiment()
</code></pre></div></div>

<h3 id="parameters-9">Parameters</h3>

<p>None.</p>

<h3 id="return-value-9">Return value</h3>

<p>None.</p>

<h3 id="description-9">Description</h3>

<p>Pauses the experiment. The experiment will finish the current trial, but will not execute any additional trials until <code class="language-plaintext highlighter-rouge">jsPsych.resumeExperiment()</code> is called.</p>

<h3 id="example-8">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">trial</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">html-keyboard-response</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">stimulus</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Press p to take a 30 second break. Otherwise, press c to continue immediately.</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">choices</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">],</span>
  <span class="na">on_finish</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">key_press</span> <span class="o">==</span> <span class="mi">80</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 80 = p</span>
      <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">pauseExperiment</span><span class="p">();</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">resumeExperiment</span><span class="p">,</span> <span class="mi">30000</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />
<h2 id="jspsychprogress">jsPsych.progress</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.progress()
</code></pre></div></div>

<h3 id="parameters-10">Parameters</h3>

<p>None.</p>

<h3 id="return-value-10">Return value</h3>

<p>Returns an object with the following properties:</p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>total_trials</td>
      <td>numeric</td>
      <td>Indicates the number of trials in the experiment. Note that this does not count possible loops or skipped trials due to conditional statements.</td>
    </tr>
    <tr>
      <td>current_trial_global</td>
      <td>numeric</td>
      <td>Returns the trial index of the current trial in a global scope. Every trial will increase this count by 1.</td>
    </tr>
    <tr>
      <td>percent_complete</td>
      <td>numeric</td>
      <td>Estimates the percent of the experiment that is complete. Works as expected for experiments without conditional or looping timelines. For complex timelines, the percent is an approximation.</td>
    </tr>
  </tbody>
</table>

<h3 id="description-10">Description</h3>

<p>This method returns information about the length of the experiment and the subject’s current location in the experiment timeline.</p>

<h3 id="example-9">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nx">progress</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">progress</span><span class="p">();</span>

<span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">You have completed approximately </span><span class="dl">'</span><span class="o">+</span><span class="nx">progress</span><span class="p">.</span><span class="nx">percent_complete</span><span class="o">+</span><span class="dl">'</span><span class="s1">% of the experiment</span><span class="dl">'</span><span class="p">);</span>

</code></pre></div></div>
<hr />
<h2 id="jspsychresumeexperiment">jsPsych.resumeExperiment</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.resumeExperiment()
</code></pre></div></div>

<h3 id="parameters-11">Parameters</h3>

<p>None.</p>

<h3 id="return-value-11">Return value</h3>

<p>None.</p>

<h3 id="description-11">Description</h3>

<p>Resumes the experiment after a call to <code class="language-plaintext highlighter-rouge">jsPsych.pauseExperiment()</code>. If the post trial delay (<code class="language-plaintext highlighter-rouge">post_trial_gap</code>) has not yet been reached, then the experiment will not continue until the delay is finished. For example, if <code class="language-plaintext highlighter-rouge">post_trial_gap</code> was 10,000ms and <code class="language-plaintext highlighter-rouge">jsPsych.resumeExperiment()</code> was called 6,000ms after the previous trial finished, then the experiment would not continue for another 4,000ms.</p>

<h3 id="example-10">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">trial</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">html-keyboard-response</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">stimulus</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Press p to take a 30 second break. Otherwise, press c to continue immediately.</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">choices</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">],</span>
  <span class="na">on_finish</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">key_press</span> <span class="o">==</span> <span class="mi">80</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 80 = p</span>
      <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">pauseExperiment</span><span class="p">();</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">resumeExperiment</span><span class="p">,</span> <span class="mi">30000</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />
<h2 id="jspsychstarttime">jsPsych.startTime</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.startTime()
</code></pre></div></div>

<h3 id="parameters-12">Parameters</h3>

<p>None.</p>

<h3 id="return-value-12">Return value</h3>

<p>Returns a <code class="language-plaintext highlighter-rouge">Date</code> object indicating when the experiment began.</p>

<h3 id="description-12">Description</h3>

<p>Get the time that the experiment began.</p>

<h3 id="example-11">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">start_time</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">startTime</span><span class="p">();</span>
</code></pre></div></div>
<hr />
<h2 id="jspsychtotaltime">jsPsych.totalTime</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jsPsych.totalTime()
</code></pre></div></div>

<h3 id="parameters-13">Parameters</h3>

<p>None.</p>

<h3 id="return-value-13">Return value</h3>

<p>Returns a numeric value indicating the number of milliseconds since <code class="language-plaintext highlighter-rouge">jsPsych.init</code> was called.</p>

<h3 id="description-13">Description</h3>

<p>Gets the total time the subject has been in the experiment.</p>

<h3 id="example-12">Example</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="nx">jsPsych</span><span class="p">.</span><span class="nx">totalTime</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>

</code></pre></div></div>


    </section>

  </div>

  
</body>
</html>
